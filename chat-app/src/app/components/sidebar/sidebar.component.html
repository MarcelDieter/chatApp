<div>
  <h2>Active Chats</h2>
</div>
<div>
  <mat-action-list>
  @for (conversation of conversationList(); track conversation) {
    @let user = getUserById(conversation);
    <button mat-list-item (click)='displayChat(conversation.conversationId)'>
      <img matListItemAvatar src='{{ user?.profilePicUrl }}'/>
      <h3 matListItemTitle class='chatName'>
        <span matBadge="10" matBadgeOverlap="false">{{ user?.username }}</span></h3>
      <p matListItemLine>
        @if (user?.active) {
          <mat-icon style='color: lightgreen'>check_circle</mat-icon>
        } @else {
          <mat-icon style='color: red'>close</mat-icon>
        }
      </p>
    </button>
  }
  </mat-action-list>
</div>
<button mat-icon-button class='add-chat' matTooltip='Start new chat' matTooltipPosition="after" (click)='openUserList()'>
  <mat-icon>add_circle</mat-icon>
</button>

